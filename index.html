<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissors</title>
  <meta charset="UTF-8"/>
  <link  rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <div id="heading">
    <h1>Rock, Paper, Scissors</h1>
  </div>
  <div id="btn-container">
    <button id="rock" class="buttons">Rock</button>
    <button id="paper" class="buttons">Paper</button>
    <button id="scissors" class="buttons">Scissors</button>
  </div>
  <div id="results-container">
    <div id="results"></div>
    <div id="running-score"></div>
  </div>
  <script>
    // Variables
    let playerSelection = '';
    let computerSelection;
    let playerScore = 0;
    let computerScore = 0;
    const resultsDiv = document.querySelector('#results');
    const runningScore = document.querySelector('#running-score');
    const resultsContainer = document.querySelector('#results-container');
    const resultsText = document.createElement('p');
    const compScore = document.createElement('p');
    const playScore = document.createElement('p');

    playScore.textContent = (`Player Score: ${playerScore}`);
    compScore.textContent = (`Computer Score: ${computerScore}`);
    runningScore.appendChild(playScore);
    runningScore.appendChild(compScore);
    resultsText.textContent = '...';
    resultsDiv.appendChild(resultsText);

    // Event listeners
    const rock = document.querySelector('#rock');
    rock.addEventListener('click', () => {
      console.log(playRound('ROCK', computerPlay()));
    });

    const paper = document.querySelector('#paper');
    paper.addEventListener('click', () => {
      console.log(playRound('PAPER', computerPlay()));
    });

    const scissors = document.querySelector('#scissors');
    scissors.addEventListener('click', () => {
      console.log(playRound('SCISSORS', computerPlay()));
    });


    function computerPlay() { // Generate computer choice
      let choices = ['ROCK', 'PAPER', 'SCISSORS']; // Array of choices
      let choice = choices[Math.floor(Math.random() * 3)]; // Randomly choose between array of choices
      return choice;
    }

    function playRound(playerSelection, computerSelection) { // Play a round
      while (playerScore < 5 && computerScore < 5) {
      if (playerSelection === computerSelection) {
        resultsText.textContent = 'Draw!';
        resultsDiv.appendChild(resultsText);
        return;
      } else if (playerSelection === 'ROCK' && computerSelection === 'SCISSORS') {
        playerScore++; // Add to score
        playScore.textContent = (`Player Score: ${playerScore}`);
        if (playerScore === 5) break;
        resultsText.textContent = 'Player wins the round!';
        resultsDiv.appendChild(resultsText);
        return;
      } else if (playerSelection === 'PAPER' && computerSelection === 'ROCK') {
        playerScore++;
        playScore.textContent = (`Player Score: ${playerScore}`);
        if (playerScore === 5) break;
        resultsText.textContent = 'Player wins the round!';
        resultsDiv.appendChild(resultsText);
        return;
      } else if (playerSelection === 'SCISSORS' && computerSelection === 'PAPER') {
        playerScore++;
        playScore.textContent = (`Player Score: ${playerScore}`);
        if (playerScore === 5) break;
        resultsText.textContent = 'Player wins the round!';
        resultsDiv.appendChild(resultsText);
        return;
      } else {
        computerScore++;
        compScore.textContent = (`Computer Score: ${computerScore}`);
        if (computerScore === 5) break;
        resultsText.textContent = 'Computer wins the round!';
        resultsDiv.appendChild(resultsText);
        return;
      }
    } if (playerScore < computerScore) {
      resultsText.textContent = `Bad luck! Computer wins the game!`;
      resultsDiv.style.cssText = 'font-size: 30px; font-weight: bold;';

    } else resultsText.textContent = `Well done! You win!`;
      resultsDiv.style.cssText = 'font-size: 30px; font-weight: bold;';
  }
  </script>
</body>
</html>
